{% extends 'layout.html' %}

{% block content %}
    <article>
        <section class="mb-3">
            <h3>Informacion de la compra</h3>
            <p class="d-flex mb-1 align-items-center"><box-icon color="#5f5f5f" name='calendar'></box-icon>Fecha: {{compra.fecha_compra.strftime("%d-%m-%Y")}}</p>
            <p class="d-flex mb-1 align-items-center"><box-icon color="#5f5f5f" name="store" ></box-icon>Supermercado: {{compra.supermercado.nombre}}</p>
            <p class="d-flex align-items-center"><box-icon color="#5f5f5f" name="location-plus" ></box-icon>Ciudad: {{compra.supermercado.ciudad.nombre}}. {{compra.supermercado.ciudad.provincia.nombre}}</p>

        </section>
        <section>
            <h3>Productos</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Producto</th>
                        <th scope="col">Precio Unitario</th>
                        <th scope="col">Total</th>
                    </tr>

                </thead>
                <tbody>
                    {% for prod in compra.productos %}
                        <tr>
                            <td>{{prod.descripcion}}{% if prod.cantidad %}&#160;&#160;<span class="text-secondary">x{{prod.cantidad}}</span> {% endif %}</td>
                            <td>{{prod.precio}}</td>
                            <td>{{prod.get_total()}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <p>Total Gastado: {{compra.get_total()}}</p>
        </section>
    </article>
{% endblock content %}
